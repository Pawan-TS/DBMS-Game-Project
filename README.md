# Fantasy RPG Text Adventure Game

A text-based adventure game that uses MongoDB for data storage and Google Gemini for generating dynamic, contextual responses. Play through a console interface or a web-based Streamlit interface.

## Features

- **Text-based Adventure**: Navigate through a fantasy world using text commands
- **MongoDB Integration**: Store and retrieve player data, items, and game progress
- **AI-Generated Content**: Dynamic responses and descriptions generated by Google Gemini
- **Character Progression**: Level up, gain items, and complete quests
- **Rich World**: Explore locations, interact with NPCs, and battle enemies
- **Dual Interfaces**: Play in console mode or through a stylish Streamlit web interface
- **Modular Design**: Easily extendable game components and data structures

## Requirements

- Python 3.8+
- MongoDB (local or Atlas)
- Google Gemini API key
- Streamlit (for web interface)

## Installation

1. Clone the repository:
   ```
   git clone https://github.com/yourusername/dbms-proj.git
   cd dbms-proj
   ```

2. Install the required packages:
   ```
   pip install pymongo google-generativeai python-dotenv streamlit
   ```

3. Set up your environment variables by creating a `.env` file:
   ```
   MONGODB_URI=your_mongodb_connection_string
   GEMINI_API_KEY=your_gemini_api_key
   ```

## Running the Game

### Console Version
Start the game in console mode by running:
```
python main.py
```

### Streamlit Web Interface
Start the game with the Streamlit web interface by running:
```
streamlit run streamlit_app/app.py
```

This will start a local web server and open the game in your default web browser.

## Game Commands

- `go/move/travel [location]`: Move to a new location
- `look/examine/inspect [target]`: Look around or examine something specific
- `inventory/items/i`: Check your inventory
- `status/stats/character`: Check your character status
- `quest/quests`: Check your active quests
- `talk/speak [npc]`: Talk to an NPC
- `use/consume [item]`: Use an item from your inventory
- `attack/fight [target]`: Attack a target
- `help/commands`: Show help message

## Project Structure

- `main.py`: Entry point for the console version of the game
- `app.py`: Alternative entry point for the Streamlit web interface (root directory)
- `init_mongodb.py`: Script to initialize MongoDB with game data
- `test_connections.py`: Script to test database and AI connections
- `game/`: Main game package for console version
  - `game_engine.py`: Core game mechanics
  - `database.py`: MongoDB connection and operations
  - `data/`: Game data
    - `enemies.py`: Enemy definitions
    - `npcs.py`: NPC definitions
- `streamlit_app/`: Streamlit web interface
  - `app.py`: Main Streamlit application
  - `app_modular.py`: Modular version of the Streamlit app
  - `init_streamlit_db.py`: Initialize database for Streamlit
  - `components/`: UI components
    - `character.py`: Character-related UI
    - `combat.py`: Combat-related UI
    - `inventory.py`: Inventory-related UI
    - `quests.py`: Quest-related UI
  - `utils/`: Utility functions
    - `ai_helper.py`: Google Gemini integration
    - `database.py`: MongoDB operations for Streamlit
    - `session.py`: Session state management

## MongoDB Collections

The game uses the following MongoDB collections:

- `players`: Player character data, inventory, quest progress
- `items`: Game items with properties and effects
- `quests`: Available quests with objectives and rewards
- `world`: World locations and connections
- `enemies`: Enemy types and properties
- `npcs`: Non-player characters with dialogue and quests

## Character Classes

The game features three character classes:
- **Warrior**: Strong and tough, specializes in melee combat
- **Mage**: Intelligent and magical, specializes in spells
- **Rogue**: Quick and stealthy, specializes in critical hits

## Extending the Game

You can extend the game by:

1. Adding new locations to the world collection
2. Creating new items in the items collection
3. Adding new quests to the quests collection
4. Implementing new game mechanics in the game engine
5. Creating new UI components for the Streamlit interface

## Testing

You can test your database and AI connections by running:
```
python test_connections.py
```

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- MongoDB for database functionality
- Google Gemini for AI-generated content
- Streamlit for the web interface framework